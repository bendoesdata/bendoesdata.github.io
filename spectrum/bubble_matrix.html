
<!DOCTYPE html>
<html>
<head>
  <title> Bubble plot example</title>
  <style>
    .vega-actions a {
        margin-right: 12px;
        color: #757575;
        font-weight: normal;
        font-size: 13px;
    }
    .error {
        color: red;
    }
  </style>

<script src="https://cdn.jsdelivr.net/npm//vega@3.3.1"></script>
<script src="https://cdn.jsdelivr.net/npm//vega-lite@2.6.0"></script>
<script src="https://cdn.jsdelivr.net/npm//vega-embed@3.14"></script>

</head>
<body>
  <div style="margin:auto; text-align: center">


    <h2>Prevalence of conditions as pairings in group <6 yrs old</h2>
      <div id="vis"></div>
  </div>
  <script type="text/javascript">
    var spec = {"config": {"view": {"width": 400, "height": 300}}, "data": {"name": "data-ce826002d003debae8184e02a98b5f09"}, "mark": {"type": "circle", "color": "blue", "opacity": 0.8, "stroke": "black", "strokeWidth": 0.5}, "encoding": {"color": {"type": "quantitative", "field": "value_obs", "legend": null}, "size": {"type": "quantitative", "field": "value_obs", "legend": {"title": "Observed prevalence (%)"}, "scale": {"domain": [0, 20], "range": [0, 4000]}}, "tooltip": [{"type": "quantitative", "field": "value_exp"}, {"type": "quantitative", "field": "value_obs"}], "x": {"type": "nominal", "axis": {"labelAngle": 45, "title": ""}, "field": "condition"}, "y": {"type": "nominal", "axis": {"title": ""}, "field": "variable"}}, "height": 500, "selection": {"selector066": {"type": "interval", "bind": "scales", "encodings": ["x", "y"]}}, "title": "", "width": 500, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json", "datasets": {"data-ce826002d003debae8184e02a98b5f09": [{"condition": "Developmental delay", "variable": "Speech", "value_obs": 18.54, "value_exp": 13.97}, {"condition": "Hypotonia", "variable": "Speech", "value_obs": 7.28, "value_exp": 6.38}, {"condition": "Sleep", "variable": "Speech", "value_obs": 16.46, "value_exp": 14.18}, {"condition": "Anxiety", "variable": "Speech", "value_obs": 1.04, "value_exp": 1.48}, {"condition": "Disruptive behavior", "variable": "Speech", "value_obs": 1.89, "value_exp": 1.51}, {"condition": "Constipation", "variable": "Speech", "value_obs": 8.09, "value_exp": 6.75}, {"condition": "Feeding difficulties", "variable": "Speech", "value_obs": 9.74, "value_exp": 7.9}, {"condition": "Sleep", "variable": "Developmental delay", "value_obs": 7.99, "value_exp": 6.74}, {"condition": "Anxiety", "variable": "Developmental delay", "value_obs": 0.28, "value_exp": 0.79}, {"condition": "Disruptive behavior", "variable": "Developmental delay", "value_obs": 1.42, "value_exp": 1.09}, {"condition": "Constipation", "variable": "Developmental delay", "value_obs": 3.83, "value_exp": 3.35}, {"condition": "Feeding difficulties", "variable": "Developmental delay", "value_obs": 4.78, "value_exp": 4.14}, {"condition": "Pica", "variable": "Developmental delay", "value_obs": 1.28, "value_exp": 0.92}, {"condition": "Sleep", "variable": "ADHD*", "value_obs": 2.41, "value_exp": 2.04}, {"condition": "Anxiety", "variable": "ADHD*", "value_obs": 0.57, "value_exp": 0.24}, {"condition": "Pica", "variable": "Hypotonia", "value_obs": 0.57, "value_exp": 0.36}, {"condition": "Sleep", "variable": "Seizure condition", "value_obs": 1.04, "value_exp": 0.76}, {"condition": "Disruptive behavior", "variable": "Sleep", "value_obs": 1.04, "value_exp": 0.76}, {"condition": "Constipation", "variable": "Sleep", "value_obs": 6.24, "value_exp": 3.85}, {"condition": "Feeding difficulties", "variable": "Sleep", "value_obs": 7.0, "value_exp": 4.75}, {"condition": "Constipation", "variable": "Anxiety", "value_obs": 0.71, "value_exp": 0.4}, {"condition": "Eczema", "variable": "Anxiety", "value_obs": 0.38, "value_exp": null}, {"condition": "Feeding difficulties", "variable": "Constipiation", "value_obs": 4.16, "value_exp": 2.16}]}};
    var embed_opt = {"mode": "vega-lite"};

    function showError(el, error){
        el.innerHTML = ('<div class="error">'
                        + '<p>JavaScript Error: ' + error.message + '</p>'
                        + "<p>This usually means there's a typo in your chart specification. "
                        + "See the javascript console for the full traceback.</p>"
                        + '</div>');
        throw error;
    }
    const el = document.getElementById('vis');
    vegaEmbed("#vis", spec, embed_opt)
      .catch(error => showError(el, error));
  </script>
</body>
</html>
